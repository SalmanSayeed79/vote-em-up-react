(this["webpackJsonpvoting-app-react"]=this["webpackJsonpvoting-app-react"]||[]).push([[0],{134:function(e,a,t){e.exports=t.p+"static/media/home.bc5e575b.png"},140:function(e,a,t){e.exports=t(440)},158:function(e,a,t){},159:function(e,a,t){},160:function(e,a,t){},161:function(e,a,t){},438:function(e,a,t){},439:function(e,a,t){},440:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(24),o=t.n(c),r=t(30),m=t(4),i=t(23),d=(t(88),t(134)),s=t.n(d),u=(t(62),t(43)),E=t.n(u);t(152),t(153);E.a.initializeApp({apiKey:"AIzaSyBlD0hgTE9FokUkY7vAsvr-4xGG19PNvX0",authDomain:"voting-react.firebaseapp.com",databaseURL:"https://voting-react.firebaseio.com",projectId:"voting-react",storageBucket:"voting-react.appspot.com",messagingSenderId:"374523551882",appId:"1:374523551882:web:9a034f69ba6979fdfa0d73"});var p=E.a.firestore(),v=E.a.auth();E.a;function h(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],c=a[1];Object(n.useEffect)((function(){v.onAuthStateChanged((function(e){if(console.log("state changed"),e)return c(!0),l.a.createElement(m.a,{to:"/home"});console.log("no user")}))}),[]);return t?l.a.createElement(m.a,{to:"/home"}):l.a.createElement("div",{className:"home-out"},l.a.createElement("div",{className:"modal-container",id:"create-account-modal"},l.a.createElement("div",{className:"modal"},l.a.createElement("h2",null,"Create New Account"),l.a.createElement("form",{className:"new-can-modal",onSubmit:function(e){return function(e){e.preventDefault();var a=document.querySelector(".new-can-modal").email.value,t=document.querySelector(".new-can-modal").password.value;v.createUserWithEmailAndPassword(a,t),console.log("created")}(e)}},l.a.createElement("input",{type:"text",name:"name",placeholder:"User Name"}),l.a.createElement("input",{type:"email",name:"email",placeholder:"User Email"}),l.a.createElement("input",{type:"password",name:"password",placeholder:"User Password"}),l.a.createElement("button",null,"Submit")),l.a.createElement("p",{onClick:function(){document.querySelector("#create-account-modal").classList.remove("show-modal")}},"x"))),l.a.createElement("div",{className:"modal-container",id:"log-in-modal"},l.a.createElement("div",{className:"modal"},l.a.createElement("h2",null,"Log In"),l.a.createElement("form",{className:"log-in-modal",onSubmit:function(e){return function(e){e.preventDefault();var a=document.querySelector(".log-in-modal").email.value,t=document.querySelector(".log-in-modal").password.value;console.log(a),console.log(t),v.signInWithEmailAndPassword(a,t)}(e)}},l.a.createElement("input",{type:"email",name:"email",placeholder:"User Email"}),l.a.createElement("input",{type:"password",name:"password",placeholder:"User Password"}),l.a.createElement("button",null,"Submit")),l.a.createElement("p",{onClick:function(){document.querySelector("#log-in-modal").classList.remove("show-modal")}},"x"))),l.a.createElement("div",{className:"navbar"},l.a.createElement("h1",null,"Vote EM UP")),l.a.createElement("div",{className:"main-part"},l.a.createElement("div",{className:"texts"},l.a.createElement("h2",null,"JOIN US"),l.a.createElement("p",null,"And be a part of the best voting experience ever"),l.a.createElement("div",{className:"buttons"},l.a.createElement("h3",{onClick:function(){document.querySelector("#create-account-modal").classList.add("show-modal")}},"Create Account"),l.a.createElement("h3",{onClick:function(){document.querySelector("#log-in-modal").classList.add("show-modal")}},"Log In"))),l.a.createElement("img",{src:s.a})))}t(158),t(159),t(160),t(161);function f(e){var a=e.data,t=e.document_id;return l.a.createElement("div",{className:"candidate"},l.a.createElement("div",{className:"title"},l.a.createElement("h3",null,a.name),l.a.createElement("h4",null,a.dept)),l.a.createElement("p",null,a.details),l.a.createElement("h2",{id:"vote-button".concat(a.name),onClick:function(){var e=a.votes,n=e+1;console.log(e),console.log(t),p.collection("files").doc(t).collection("candidates").doc(a.name).update({votes:n})}},"Vote"))}function b(e){var a=e.match.params.id;function t(){document.querySelector("#add-candidate-modal").classList.remove("show-modal")}var c=Object(n.useState)([]),o=Object(i.a)(c,2),m=o[0],d=o[1],s=[];function u(){p.collection("files").doc(a).collection("candidates").get().then((function(e){e.docs.forEach((function(e){s.push(e.data())})),d(s)}))}Object(n.useEffect)((function(){return u()}),[]),console.log(m);return l.a.createElement("div",{className:"election-page"},l.a.createElement("div",{className:"modal-container",id:"add-candidate-modal"},l.a.createElement("div",{className:"modal"},l.a.createElement("h2",null,"Add new candidate"),l.a.createElement("form",{className:"create-can-modal",onSubmit:console.log("candidate created")},l.a.createElement("input",{type:"text",name:"name",placeholder:"Candidate Name"}),l.a.createElement("input",{type:"text",name:"dept",placeholder:"Candidate Dept"}),l.a.createElement("textarea",{name:"details",placeholder:"Candidate details"}),l.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault();var n=document.querySelector(".create-can-modal");p.collection("files").doc(a).collection("candidates").doc(n.name.value).set({name:n.name.value,dept:n.dept.value,details:n.details.value,votes:0}),t(),u()}(e)}},"Submit")),l.a.createElement("p",{onClick:t},"x"))),l.a.createElement("div",{className:"top-bar"},l.a.createElement("div",{className:"navbar"},l.a.createElement("h1",null,"Vote EM UP")),l.a.createElement(r.b,{to:"/home"},l.a.createElement("p",null," Go back ")),l.a.createElement(r.b,{to:"/results/".concat(a)},l.a.createElement("h6",null," See Results")),l.a.createElement("h2",null,"Best footballer in the world")),l.a.createElement("div",{className:"candidates"},m.map((function(e){return l.a.createElement(f,{key:e.name,data:e,document_id:a})}))),l.a.createElement("button",{id:"new_candidate",onClick:function(){document.querySelector("#add-candidate-modal").classList.add("show-modal")}},"Create new candidate"))}t(162);function g(e){e.data;return console.log(e.data),l.a.createElement("div",{className:"cards"},l.a.createElement("div",null,e.data.active?l.a.createElement("p",null,"Active"):l.a.createElement("p",null,"Completed")),l.a.createElement("h2",{onClick:function(){console.log("clicked")}},e.data.name),l.a.createElement("div",{className:"creation"},l.a.createElement("h4",null,"Created by: Salman Sayeed"),l.a.createElement("h4",null,"Created on: 17-6-2020")),l.a.createElement("div",{className:"bottom-bar"},l.a.createElement("h3",null,5," ",l.a.createElement("span",null,"Candidates")),l.a.createElement("h3",null,"5 ",l.a.createElement("span",null,"Voters")),l.a.createElement("h3",null,"5 ",l.a.createElement("span",null,"Dates"))))}function w(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)("false"),d=Object(i.a)(o,2),s=(d[0],d[1],function(){p.collection("files").get().then((function(e){c(e.docs.map((function(e){return e.data()})))}))});Object(n.useEffect)((function(){s(),console.log(t)}),[]);var u=Object(n.useState)(!0),E=Object(i.a)(u,2),h=E[0],f=E[1];if(!h)return l.a.createElement(m.a,{to:"/"});function b(){document.querySelector("#new-election-modal").classList.remove("show-modal")}return l.a.createElement("div",{className:"home-on"},l.a.createElement("div",{className:"modal-container",id:"new-election-modal"},l.a.createElement("div",{className:"modal"},l.a.createElement("h2",null,"Create New Election"),l.a.createElement("form",{className:"new-can-modal",onSubmit:function(e){return function(e){e.preventDefault();var a=document.querySelector(".new-can-modal");console.log(a.election_name.value),p.collection("files").doc(a.election_name.value).set({active:!0,name:a.election_name.value}),alert("New Election Added"),b(),s()}(e)}},l.a.createElement("input",{type:"text",name:"election_name",placeholder:"Election Name"}),l.a.createElement("input",{type:"text",name:"candidate_name",placeholder:"First Candidate's Name"}),l.a.createElement("input",{type:"text",name:"candidate_dept",placeholder:"First Candidate' Department"}),l.a.createElement("textarea",{type:"textbox",name:"candidate_details",placeholder:"First Candidate' Details"}),l.a.createElement("button",null,"Submit")),l.a.createElement("p",{onClick:b},"x"))),l.a.createElement("div",{className:"navbar"},l.a.createElement("h1",null,"Vote EM UP"),l.a.createElement("div",{className:"others"},l.a.createElement("h2",{id:"log-out-button",onClick:function(){v.signOut(),console.log("logged out"),f(!1)}},"Log Out"),l.a.createElement("h2",null,"Welcome, ",l.a.createElement("span",{id:"user-name"},"Salman Sayeed")))),l.a.createElement("div",{className:"new-election",onClick:function(){document.querySelector("#new-election-modal").classList.add("show-modal")}},l.a.createElement("h3",null,"Create New Election ",l.a.createElement("span",null,"+"))),l.a.createElement("div",{className:"card-container"},t.map((function(e){return l.a.createElement(r.b,{to:"/home/".concat(e.name),style:{textDecoration:"none"}},l.a.createElement(g,{key:e.name,data:e}))}))))}t(438),t(439);function N(e){e.key;var a=e.position,t=e.data;return l.a.createElement("div",{className:"winner"},l.a.createElement("h5",null,a),l.a.createElement("div",{className:"title"},l.a.createElement("h3",null,t.name),l.a.createElement("h4",null,t.dept)),l.a.createElement("h2",null,t.votes,l.a.createElement("span",null,"Votes")))}function y(e){var a=e.match.params.id,t=[],c=Object(n.useState)([]),o=Object(i.a)(c,2),r=o[0],m=o[1];return Object(n.useEffect)((function(){p.collection("files").doc(a).collection("candidates").orderBy("votes","desc").get().then((function(e){e.docs.forEach((function(e){t.push(e.data())})),m(t)}))}),[]),console.log(r),l.a.createElement("div",{className:"results-page"},l.a.createElement("div",{className:"top-bar"},l.a.createElement("div",{className:"navbar"},l.a.createElement("h1",null,"Vote EM UP")),l.a.createElement("h2",null,"Best footballer in the world")),l.a.createElement("div",{className:"winners"},r.map((function(e){var a=r.indexOf(e);return l.a.createElement(N,{key:e.name,position:a+1,data:e})}))))}var S=function(){return l.a.createElement(r.a,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/",exact:!0,component:h}),l.a.createElement(m.b,{path:"/home",exact:!0,component:w}),l.a.createElement(m.b,{path:"/home/:id",component:b}),l.a.createElement(m.b,{path:"/results/:id",component:y})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,a,t){},88:function(e,a,t){}},[[140,1,2]]]);
//# sourceMappingURL=main.eb9098c2.chunk.js.map